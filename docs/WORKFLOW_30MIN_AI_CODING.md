# 30분 AI 코딩 워크플로우 (절차서)

짧은 시간 내에 기능을 구현하기 위해 웹 LLM(두뇌)과 IDE AI(근육)를 조합하는 단계별 실전 가이드이다. 모든 경로는 프로젝트 루트를 기준으로 한다.

---

## 1. 코드베이스 덤프 생성 (전제 조건)

워크플로우 시작 전 프로젝트의 최신 컨텍스트를 통합 파일로 생성한다.

**실행 명령:**
```powershell
# scripts 폴더의 보안 스크립트 실행
pwsh -ExecutionPolicy Bypass -File scripts\Invoke-Repomix.ps1
```

- **출력물**: `docs/repomix-output.md` (백엔드+프론트+DB 통합 덤프)
- **덤프 구성 상세**: `docs/repomix_report.md` 참조

---

## 2. [Phase 1] 두뇌 가동 — 작업 지시서 생성

전체 코드베이스를 분석하여 IDE AI에게 줄 순차 작업 지시서를 도출한다.

**사용처**: 웹 브라우저 기반 장문 컨텍스트 LLM (Gemini 등)

**절차**:
1. `docs/repomix-output.md` 파일 내용을 준비한다.
2. `docs/prompts/WORKFLOW_30MIN_PROMPTS.md`에서 Phase 1 프롬프트를 복사한다.
3. Step 1(로직)과 Step 2(UI) 지시서를 각각 도출하여 별도로 메모한다.

---

## 3. [Phase 2] 근육 가동 — Step 1 (백엔드/로직)

지시서에 따라 핵심 비즈니스 로직과 API를 구현한다.

**사용처**: IDE 기반 AI 채팅 (Cursor 등)

**규칙**:
- 수정 대상 파일은 전체 코드로 출력하도록 요구한다.
- `docs/CRITICAL_LOGIC.md`의 원칙을 준수하는지 확인한다.
- 신규 마이그레이션이 필요하면 `supabase/migrations/` 경로를 사용한다.

---

## 4. [Phase 3] 근육 가동 — Step 2 (프론트엔드)

구현된 로직을 화면에 연결하고 사용자 인터페이스를 완성한다.

**사용처**: Phase 2와 동일한 채팅 세션 (맥락 유지)

**규칙**:
- `apps/web/src` (소비자) 또는 `apps/admin/src` (셀러) 등 정확한 도메인 경로를 지정한다.
- 로딩 상태와 에러 UI를 반드시 포함한다.
- 하이드레이션 경고가 발생하지 않도록 클라이언트/서버 컴포넌트 분리를 엄수한다.

---

## 5. [Phase 4] 품질 향상 — 문서 및 테스트

구현 완료 후 사후 관리 작업을 수행한다.

- **문서화**: 신규 기능 설명 및 API 명세를 `docs/` 하위에 업데이트한다.
- **주석**: 핵심 파일에 JSDoc 스타일의 주석을 보강한다.
- **테스트**: 비즈니스 로직에 대한 단위 테스트 코드를 작성하여 검증한다.

---

## 아키텍처 지원 (Monitoring)

배포 및 가동 중 발생하는 에러는 `error_monitor.py`를 통해 실시간 감시하며, 위 워크플로우의 디버깅 단계에서 활용한다.
